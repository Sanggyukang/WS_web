<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="name" content="description" content="WS">
  <meta property="og.image" content="images/icon.png" />
  <link href="style.css" rel="stylesheet">
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
</head>
<body>
  <div class="content">
    <div class="sections">
      <section id = "section" class="section"><div class="layer">
        <h1>Sanggyu Kang</h1>
        <div class="logo">
          <ul class="logo_ul">
              <li><a href="https://www.linkedin.com/in/sanggyu-kang-270123203/"><img
                          src="images/linkedin_icon.png" alt="logo" /></a> </li>
              <li><a href="https://github.com/Sanggyukang"><img src="images/github_icon.png" alt="logo" /></a>
              </li>
              <li><a data-auto-recognition="true" href="mailto: sanggyukang0@gmail.com"><img
                          src="images/gmail_icon.png" alt="logo" /></a> </li>
          </ul>
      </div>
      </div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
    </div>
  </div>
  <div class="content">
    <div class="sections">
      <section id = "section" class="section"><div class="layer">
        <canvas id="myCanvas" width="" height=""></canvas>
        <script type="text/javascript" src="gamescript.js">Game</script>
      </div></section>
      <section id = "section" class="section"><div class="layer">
      </div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
    </div> 
  </div>
  <div class="content">
    <div class="sections">
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
    </div>
  </div>
  <div class="content">
    <div class="sections">
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
    </div>
  </div>
  <div class="content">
    <div class="sections">
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
      <section id = "section" class="section"><div class="layer"></div></section>
    </div>
  </div>
  <div class="icon-left">
    <div class="arrow-left"></div>
  </div>
  <div class ="icon-right">
    <div class="arrow-right"></div>
  </div>
  <script>
    
window.addEventListener("wheel", function (e) {
  e.preventDefault();
}, { passive: false });

var $html = $("html");


/*
vertical section
*/
var page = 1;

var lastPage = $(".content").length;


$html.animate({ scrollTop: 0 }, 10);

$(window).on('wheel', function (e) {
  scrollevent(e.originalEvent.deltaY);
})

$(document).keydown(function (e) {
  if (e.which == 38) // up arrow
    scrollevent(-100);
  else if (e.which == 40) // down arrow
    scrollevent(100);
  else if (e.which == 37) //left arrow
    sliceevent(-100);
  else if (e.which == 39) // right arrow
    sliceevent(100);
});

function scrollevent(num) {
  if ($html.is(":animated")) return;


  $html.animate({ scrollLeft: 0});
  section=1;

  if (num > 0) {
    if (page == lastPage) return;

    page++;
  } else if (num < 0) {
    if (page == 1) return;

    page--;
  }

  var posTop = (page - 1) * $(window).height();

  $html.animate({ scrollTop: posTop });
}
/*
horizontal slides for a section 
*/
var section = 1;
var lastSection = $(".section").length;
console.log(document.body.childNodes[1].childNodes[1].hasChildNodes("section"));
console.log(document.body.childNodes[1].childNodes[1]);
console.log(document.body.childNodes[3].childNodes[1].hasChildNodes("section"));
console.log(document.body.childNodes["content"]);
$html.animate({ scrollLeft: 0 }, 10);
function sliceevent(num) {
  if ($html.is(":animated")) return;

  if (num > 0) {
    if (section == lastSection) return;

    ++section;
  } else if (num < 0) {
    if (section == 1) return;

    --section;
  }
  var posLeft = (section - 1) * $(window).width();

  $html.animate({ scrollLeft: posLeft });
}

/*horizontal click animation*/
var $icon = $(".icon-left, .icon-right");

$icon.click(function(e){
  if ($html.is(":animated")) return;
  var layerWidthHalf = $(".section").width()/2;

  if(e.clientX>layerWidthHalf){
    if(section == lastSection) return;

    ++section;
  }
  
  else{
    if(section == 1) return;

    --section;
  }
  var posLeft = (section -1) * $(window).width();

  $html.animate({scrollLeft: posLeft});
});
  </script>
</body>

</html>
